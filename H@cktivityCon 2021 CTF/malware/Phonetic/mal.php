<?php

function deGRi($p1, $p2 = '')
{
    $v1 = $p1;
    $res = '';
    for ($i = 0;$i < strlen($v1);)
    {
        for ($j = 0;$j < strlen($p2) && $i < strlen($v1);$j++, $i++)
        {
            $res .= $v1[$i] ^ $p2[$j];
        }
    }
    return $res;
}

$x = "test";
$r = deGRi($x);
echo $r;